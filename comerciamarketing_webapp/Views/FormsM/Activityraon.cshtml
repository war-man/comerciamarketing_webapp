@{

    ViewBag.Title = "Comercia Marketing - Template preview2on";
}

@helper OrderedList(IList<comerciamarketing_webapp.Controllers.FormsMController.MyObj_tablapadre> parentList, int parent = 0)
    {
        foreach (var objeto in parentList)
        {
            <!--PARA TITULOS (AUN QUE EN ESTE CASO SOLO TENDRIA QUE HABER 1 SOLO TITULO-->
            if (objeto.id_resource == 1)
            {


                <div class="card p-3 r-3x b-b b-b-danger">
                    <h4 class="" style="text-align:center;">@objeto.fsource</h4>
                </div>

            }
        }
}
@helper OrderedListHeadertable(IList<comerciamarketing_webapp.Controllers.FormsMController.MyObj_tablapadre> parentList, int parent = 0)
    {
        foreach (var objeto in parentList)
        {
            <!--PARA SUBTITULOS -->
            if (objeto.id_resource == 24)
            {

                <div class="th">@objeto.fdescription</div>

            }
        }
}
@helper OrderedListRetail(IList<comerciamarketing_webapp.Controllers.FormsMController.MyObj_tablapadre> parentList, int parent = 0)
    {
        foreach (var objeto in parentList)
        {
            <!--PARA PRODUCTOS -->
            if (objeto.id_resource == 3)
            {

                <div class="tr">

                    <div class="td accordion-xs-toggle"><small>@objeto.fdescription</small><div class="icondiv"></div></div>
                    @if (objeto.children != null)
                    {
                        <div class="accordion-xs-collapse">

                            <div class="inner">

                                @OrderedListRetail(objeto.children, objeto.idkey)
                            </div>
                        </div>
                    }

                </div>
            }


            <!--CHECK SELECCION MULTIPLE -->
            if (objeto.id_resource == 16)
            {
                if (objeto.parent != 0)
                {
                    <div class="td">
                        <div class="mb-3">

                            <label class="md-check">
                                @if (objeto.fvalue == 0)
                                {
                                    <input type="checkbox" class="form-check-input" name="@("radio_" + objeto.parent)" id="@objeto.idkey">
                                      <i class="green"></i>
                                    @objeto.fdescription
                                  
                                }
                                else
                                {
                                    <input type="checkbox" class="form-check-input" name="@("radio_" + objeto.parent)" id="@objeto.idkey" checked>
                                      <i class="green"></i>
                                    @objeto.fdescription
                                   
                                }
                            </label>
                        </div>
                    </div>
                }


            }



            <!--PARA INPUT NUMBER -->
            if (objeto.id_resource == 18)
            {
                if (objeto.parent != 0)
                {
                    <div class="td">
                        <div class="form-group">
                            @if (objeto.fvalueDecimal > 0)
                            {
                                <input type="number" onClick="selectTest(this.id);" id="@objeto.idkey" class="form-control form-control-sm" value="@objeto.fvalueDecimal" />
                            }
                            else
                            {
                                <input type="number" onClick="selectTest(this.id);" id="@objeto.idkey" class="form-control form-control-sm" value="" />
                            }
                            @objeto.fdescription

                        </div>
                    </div>
                }


            }


            <!--PARA INPUT NUMBER (CURRENCY)-->
            if (objeto.id_resource == 21)
            {
                if (objeto.parent != 0)
                {
                    <div class="td">
                        <div class="form-group">
                            <label>@objeto.fdescription</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">$</span>
                                </div>
                                @if (objeto.fvalueDecimal > 0)
                                {
                                    <input type="number" onClick="selectTest(this.id);" id="@objeto.idkey" class="form-control" value="@objeto.fvalueDecimal" />
                                }
                                else
                                {
                                    <input type="number" onClick="selectTest(this.id);" id="@objeto.idkey" class="form-control" value="" />
                                }



                            </div>
                        </div>
                    </div>
                }

            }
            <!--PARA INPUT TEXT -->
            if (objeto.id_resource == 6)
            {
                if (objeto.parent != 0)
                {
                    <div class="td">
                        <div class="form-group">

                            <div class="col-md-12">
                                <input type="text" id="@objeto.idkey" class="form-control" />


                            </div>
                        </div>
                    </div>
                }

            }

        }
}

<!-- page-body-wrapper ends -->
<!-- ############ Content START-->
<div id="content" class="flex ">
    <!-- ############ Main START-->
    <div>
        <div class="page-hero page-container " id="page-hero">
            <div class="padding d-flex">
                <div class="page-title">
                    <a href="@Url.Action("Visit_details", "SalesRepresentatives", new { id=ViewBag.idvisitareal})" class="btn btn-info">Back</a>
                </div>
                <div class="flex"></div>
                <div>

                </div>
            </div>
        </div>
        <div class="page-content page-container" id="page-content">
            <div class="padding sr">
                <div class="card">
                    <div class="card-header bg-img p-0 no-border" data-stellar-background-ratio="0.1" data-plugin="stellar">
                        <div class="bg-light r-2x no-r-b">
                            <div class="d-md-flex">
                                <div class="p-4">
                                    <div class="d-flex">
                                        <a href="#">
                                            <span class="avatar w-64">
                                                <img src="~/Content/newstyle2/images/samples/online-store.png" alt=".">
                                                <i class="on"></i>
                                            </span>
                                        </a>
                                        <div class="mx-3">
                                            <h5 class="mt-2">@ViewBag.storename</h5>
                                            <div class="text-fade text-sm">
                                                <span class="m-r">@ViewBag.address</span>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <span class="flex"></span>
                                <div class="align-items-center d-flex p-4">
                                    <div class="toolbar">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                    <input type="text" id="idvisita" hidden value="@ViewBag.idvisita" />


                    @OrderedList(ViewBag.details)

                    <div class="row">
                        <div class="col-md-12 grid-margin">
                            <div class="card">


                                <div class="divtable accordion-xs">
                                    <div class="tr headings">
                                        @OrderedListHeadertable(ViewBag.details)
                                    </div>
                                    @OrderedListRetail(ViewBag.details)
                                </div>


                            </div>
                        </div><br />

                    </div>
                    <div class="form-group">
                        <div class="col-md-offset-2 col-md-10 text-right">
                            <input type="submit" value="Save" class="btn btn-success" id="save_activity" style="height:90px; width:130px" />
                            <input type="submit" value="Check out" class="btn btn-danger" id="finish_activity" style="display:none; height:90px; width:130px" />
                            <!--<a href="Url.Action("Index", "Demos")" class="btn btn-default">Back</a>-->
                        </div>
                    </div>
               



            </div>

        </div>

    </div>

</div>
<!-- ############ Content END-->